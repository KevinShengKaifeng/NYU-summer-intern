# -*- coding: utf-8 -*-
"""
Created on Thu Jul 25 19:19:15 2019

@author: Kevin
"""

import matplotlib.pyplot as plt
from tools import z_score
import numpy as np

'''
suppressing_end_activity=\
[0, 0.23223139, 0.43046278, 0.57006478, 0.69688827, 0.76532984, 0.80714971, 0.84209323, 0.87172967, 0.89673489, 0.91594487, 0.92959464, 0.93917131]
control=\
[0, 0.25636518, 0.49581254, 0.58296371, 0.66024399, 0.72901016, 0.79281211, 0.84501714, 0.87568581, 0.90436083, 0.92695183, 0.94205528, 0.95521951]
no_lag=\
[0, 0.30858204, 0.52525079, 0.63903385, 0.71772134, 0.78530496, 0.84200668, 0.87940449, 0.90401834, 0.92376375, 0.93808192, 0.94936419, 0.95739007]
training_batch_size_1=\
[0, 0.26995811, 0.48715901, 0.62375069, 0.733172, 0.81805182, 0.85112244, 0.87824273, 0.90356809, 0.91865355, 0.93212855, 0.94122291, 0.9474715]
perturbation_batch_size_1=\
[0, 0.37610421, 0.59084845, 0.71569598, 0.79774654, 0.84703022, 0.88415968, 0.90620863, 0.92647737, 0.9421398, 0.95051837, 0.95693594, 0.9627254]
plt.figure()
plt.plot(control, label="control")
plt.plot(suppressing_end_activity, label="suppressing_end_activity")
plt.plot(no_lag, label="no_lag")
plt.plot(training_batch_size_1, label="training_batch_size_1")
plt.plot(perturbation_batch_size_1, label="perturbation_batch_size_1")
ax = plt.gca()
ax.set_title("variance explained by the first 12 PCs")
plt.legend()
plt.show()
'''

'''
ve50 = [[0.25354877, 0.43372285, 0.56628263, 0.68738246, 0.7577068, 0.80759054, 0.8493977, 0.8821994, 0.90575266, 0.9258159, 0.93745536, 0.9464814],
[0.23671868, 0.4260103, 0.549097, 0.66205114, 0.72268736, 0.7773815, 0.8234308, 0.8655069, 0.89610255, 0.9175707, 0.9306489, 0.9421953],
[0.23720461, 0.42937887, 0.5566904, 0.68274033, 0.738067, 0.7901304, 0.8325854, 0.8695776, 0.9018219, 0.9258712, 0.9370015, 0.9462998],
[0.24970601, 0.40402126, 0.53250194, 0.65338147, 0.72362244, 0.7788999, 0.8245156, 0.8576196, 0.8863067, 0.91091007, 0.9265183, 0.9399093],
[0.23585343, 0.42496753, 0.55487347, 0.65844417, 0.72532356, 0.77270174, 0.81860363, 0.85612047, 0.8872583, 0.91269976, 0.92569745, 0.9382738],
[0.2454037, 0.41684598, 0.5392586, 0.6510311, 0.7210465, 0.77740794, 0.8232843, 0.8591172, 0.89020973, 0.91518337, 0.9315704, 0.942129],
[0.2657337, 0.44754982, 0.57044023, 0.67038816, 0.7339549, 0.78811157, 0.83127296, 0.8698914, 0.89772534, 0.91999215, 0.93548596, 0.94585085],
[0.2553342, 0.4386198, 0.5727449, 0.6903291, 0.7482897, 0.7925201, 0.8355851, 0.87435496, 0.9032077, 0.9265039, 0.93746287, 0.94641346],
[0.27480775, 0.43272686, 0.5617235, 0.6694696, 0.7389805, 0.7897987, 0.8329187, 0.8687277, 0.89600676, 0.92083186, 0.934678, 0.94569767],
[0.2721888, 0.45723832, 0.5742189, 0.6765001, 0.74288577, 0.8010392, 0.84176743, 0.8798878, 0.9051905, 0.9270893, 0.9424914, 0.9533838],
[0.2573716, 0.4212197, 0.54678434, 0.6684205, 0.73376644, 0.78466284, 0.8272152, 0.86126107, 0.8901756, 0.91480577, 0.9298117, 0.93976605],
[0.25914913, 0.424274, 0.5629599, 0.66445535, 0.73130727, 0.7831718, 0.8248365, 0.8621907, 0.89153504, 0.9190674, 0.9337587, 0.94342357],
[0.25967357, 0.45808786, 0.575372, 0.67176354, 0.74068654, 0.7965045, 0.8411637, 0.87784666, 0.9040908, 0.9262773, 0.9394195, 0.94869584],
[0.29461426, 0.48010963, 0.5952805, 0.69650936, 0.75792176, 0.80925083, 0.849401, 0.88743585, 0.91189927, 0.9324816, 0.9455729, 0.9551496],
[0.24897332, 0.43576628, 0.55726475, 0.66845065, 0.7343895, 0.7938057, 0.8349139, 0.8691441, 0.8973331, 0.92161274, 0.93563896, 0.9471609],
[0.28562614, 0.4856655, 0.6014163, 0.70924395, 0.76799726, 0.81873405, 0.8580839, 0.8912977, 0.9149593, 0.9346047, 0.94502103, 0.9551661],
[0.29118428, 0.4424744, 0.56248784, 0.6641667, 0.73746073, 0.7917006, 0.8347474, 0.8713152, 0.89956254, 0.9228949, 0.9377956, 0.9483748],
[0.2676009, 0.42584264, 0.5607286, 0.6749371, 0.7437307, 0.7930439, 0.8407961, 0.8703183, 0.8977047, 0.92100453, 0.93673724, 0.94682163],
[0.25315502, 0.42529777, 0.5512806, 0.65035355, 0.71975535, 0.77540386, 0.8215239, 0.857239, 0.8870205, 0.9127024, 0.9298282, 0.9418545],
[0.2646892, 0.42530107, 0.5494058, 0.6621022, 0.7246675, 0.77516335, 0.81972325, 0.85568804, 0.88717616, 0.91421807, 0.92922074, 0.93893963],
[0.2335223, 0.41880834, 0.54470795, 0.6564388, 0.7189851, 0.7745784, 0.82230514, 0.8581925, 0.89077824, 0.9168891, 0.9302146, 0.94089425],
[0.2548482, 0.42782754, 0.56447506, 0.68927664, 0.74923575, 0.8020985, 0.84010655, 0.87458664, 0.9017931, 0.9213995, 0.9355476, 0.94551563],
[0.25055537, 0.41120473, 0.5548296, 0.66505456, 0.73226696, 0.7844917, 0.82864344, 0.86154526, 0.891025, 0.9143043, 0.92933506, 0.94013935],
[0.27941066, 0.45840582, 0.5737556, 0.66928893, 0.7380238, 0.7945537, 0.8375412, 0.8748396, 0.9035329, 0.92539996, 0.93896234, 0.9501027],
[0.26215369, 0.45063567, 0.5727535, 0.6767284, 0.7409961, 0.7970748, 0.8407837, 0.8795213, 0.90698946, 0.92708075, 0.9411032, 0.95288324]]

ve01 = [[0.27721828, 0.48404104, 0.64184046, 0.7397887, 0.8060918, 0.85672385, 0.89005566, 0.9071767, 0.9202421, 0.9310418, 0.93921024, 0.94611514],
[0.27515864, 0.44727606, 0.5900252, 0.6732842, 0.7387878, 0.79892987, 0.8324879, 0.86090213, 0.8874176, 0.9084958, 0.925579, 0.9365818],
[0.2850158, 0.50132227, 0.66789913, 0.7597626, 0.8106553, 0.84930235, 0.87804425, 0.89878064, 0.9159375, 0.93134075, 0.94173276, 0.9499061],
[0.26022264, 0.45917422, 0.6287072, 0.7331316, 0.79860777, 0.8573125, 0.88769025, 0.9072293, 0.92468566, 0.9372299, 0.94680995, 0.954334],
[0.3269546, 0.5308974, 0.69736016, 0.7786911, 0.82438916, 0.854756, 0.8800615, 0.9021169, 0.9198991, 0.93157035, 0.94155324, 0.94982445],
[0.50448036, 0.73702514, 0.7993104, 0.8457562, 0.8789093, 0.90435743, 0.91996485, 0.9348974, 0.9456456, 0.9550373, 0.9615942, 0.96654934],
[0.2606641, 0.44478184, 0.6109353, 0.7328255, 0.80131286, 0.8510084, 0.8894097, 0.9088601, 0.9237193, 0.93565917, 0.946673, 0.95432407],
[0.25844827, 0.46242052, 0.60483533, 0.7043022, 0.7679868, 0.8244063, 0.85775244, 0.885344, 0.9081516, 0.92722875, 0.9392895, 0.9468364],
[0.28760967, 0.54172385, 0.6689381, 0.76350754, 0.8267773, 0.86916703, 0.9016938, 0.9186828, 0.931028, 0.94055414, 0.94969857, 0.9571515],
[0.37490842, 0.6096521, 0.72034556, 0.79201955, 0.8378339, 0.87529135, 0.8978449, 0.9139783, 0.9268121, 0.9372809, 0.94601965, 0.95325685],
[0.37061095, 0.5903839, 0.7266471, 0.8244813, 0.8613347, 0.8908676, 0.9128607, 0.9277407, 0.9401065, 0.9502053, 0.9567873, 0.9623932],
[0.30394468, 0.5058814, 0.67449945, 0.7511653, 0.810852, 0.8553038, 0.877017, 0.8975029, 0.9170133, 0.9291125, 0.9375106, 0.9439189],
[0.32282197, 0.5590913, 0.6614494, 0.73146015, 0.78568435, 0.83829635, 0.86410433, 0.8880162, 0.90840733, 0.927527, 0.9377484, 0.94705504],
[0.44437915, 0.60453534, 0.7416815, 0.82121724, 0.87529755, 0.89963657, 0.9202061, 0.9349941, 0.94513094, 0.95223254, 0.95792866, 0.9625941],
[0.34460297, 0.5874713, 0.701161, 0.7756575, 0.83155555, 0.8652968, 0.89040196, 0.91171026, 0.92699915, 0.93752646, 0.94698584, 0.95448697],
[0.31866416, 0.5060941, 0.6526154, 0.74123466, 0.7944405, 0.8312182, 0.86132634, 0.87987804, 0.8956796, 0.9099617, 0.92355514, 0.93363994],
[0.2692941, 0.45635557, 0.62591726, 0.72022855, 0.77567405, 0.8187959, 0.8557318, 0.88947576, 0.91030765, 0.922258, 0.9333607, 0.9420415],
[0.3341455, 0.55233794, 0.71577996, 0.7944106, 0.83728236, 0.8679573, 0.8917388, 0.9081161, 0.9226892, 0.93350565, 0.9427473, 0.95021987],
[0.4652796, 0.81204134, 0.86818075, 0.8948426, 0.91854405, 0.93649894, 0.9499806, 0.9583394, 0.9661125, 0.9708937, 0.97477967, 0.97786665]]

ve50_2 = [[0.3867842, 0.72382605, 0.8098047, 0.8905467, 0.92010295, 0.9322725, 0.9432342, 0.9528299, 0.9601919, 0.96607864, 0.97173476, 0.97663206],
[0.3775448, 0.74230367, 0.8422125, 0.90246564, 0.92984456, 0.9406719, 0.94977397, 0.95677644, 0.96288157, 0.96859527, 0.97380865, 0.97838265],
[0.3833785, 0.7496244, 0.8279162, 0.8926958, 0.9199228, 0.9322339, 0.94428927, 0.95375144, 0.96121055, 0.96760017, 0.97273403, 0.9776353],
[0.3788389, 0.74246854, 0.82815886, 0.8932779, 0.92499566, 0.93733543, 0.9480572, 0.95614225, 0.96307766, 0.96949387, 0.9745353, 0.9792053],
[0.41179004, 0.7560775, 0.82895744, 0.8925055, 0.9259634, 0.9359277, 0.9453281, 0.9542973, 0.9618418, 0.9684689, 0.97377884, 0.978684],
[0.3879329, 0.73879886, 0.8336476, 0.8954028, 0.9224866, 0.9353754, 0.9462615, 0.9559556, 0.9635989, 0.96957433, 0.9746597, 0.97915375],
[0.38879466, 0.7340132, 0.8274195, 0.8967656, 0.9252611, 0.93849427, 0.9491649, 0.9574036, 0.9638411, 0.9692037, 0.97392905, 0.97851866],
[0.3919671, 0.7533027, 0.8323007, 0.8953804, 0.92991805, 0.9409584, 0.95063776, 0.95846176, 0.9654019, 0.9716294, 0.9771038, 0.9816564],
[0.38440788, 0.7277677, 0.82916194, 0.8971188, 0.9266725, 0.9390549, 0.94949365, 0.9585631, 0.96544147, 0.97132266, 0.97613657, 0.9802778],
[0.39461657, 0.7306532, 0.82292664, 0.89830935, 0.9257494, 0.93842834, 0.94819015, 0.9558168, 0.9622059, 0.9678178, 0.97304076, 0.9779335],
[0.41201785, 0.7303554, 0.82536227, 0.8971808, 0.92352957, 0.93773144, 0.9480825, 0.9564987, 0.962607, 0.96844226, 0.9739084, 0.9784874],
[0.39355338, 0.7497162, 0.83573407, 0.89810693, 0.93040866, 0.9415056, 0.9515308, 0.96025443, 0.9667594, 0.9725971, 0.9779004, 0.9822585],
[0.39649105, 0.7248381, 0.8231366, 0.90266544, 0.9273081, 0.9385843, 0.94943744, 0.95723885, 0.9645176, 0.97024006, 0.97580665, 0.9800841],
[0.40070996, 0.7349736, 0.8292165, 0.89716727, 0.92426723, 0.9371293, 0.94699204, 0.9557418, 0.9624729, 0.9685677, 0.9736434, 0.9785074],
[0.40309, 0.73652005, 0.8267705, 0.89027244, 0.9204409, 0.9315743, 0.9421771, 0.9517604, 0.9592586, 0.96594197, 0.9720168, 0.97739524],
[0.39072412, 0.7284782, 0.8180826, 0.897471, 0.9222423, 0.93528455, 0.9467439, 0.95445406, 0.961573, 0.96725607, 0.9725227, 0.97740144],
[0.4199478, 0.73583806, 0.82139254, 0.88924885, 0.92116255, 0.9338957, 0.94507784, 0.95383316, 0.9617693, 0.96757823, 0.97302365, 0.97798806],
[0.3953798, 0.7451796, 0.8307818, 0.8995264, 0.9296529, 0.9415876, 0.9508778, 0.95892495, 0.9662529, 0.97168815, 0.97676057, 0.981575],
[0.4006093, 0.7536715, 0.83467466, 0.8975664, 0.9269748, 0.94028485, 0.94975066, 0.9578816, 0.9648714, 0.9708004, 0.976328, 0.98086613],
[0.39323434, 0.73208916, 0.82246745, 0.89663875, 0.92523414, 0.9391161, 0.9507435, 0.95880574, 0.965766, 0.9710348, 0.97583246, 0.98045796],
[0.42500156, 0.7638526, 0.84238005, 0.9002515, 0.92981875, 0.94116837, 0.9497361, 0.9574486, 0.96459347, 0.9707411, 0.9761446, 0.98047304],
[0.4293201, 0.75545704, 0.84069645, 0.9007628, 0.93139, 0.9431324, 0.9521145, 0.9594614, 0.9664041, 0.9723874, 0.9777423, 0.98171556],
[0.41051424, 0.7542517, 0.8301998, 0.8907505, 0.924154, 0.9365606, 0.9458526, 0.9543263, 0.9620947, 0.96838254, 0.97364783, 0.97827613],
[0.37841743, 0.7380781, 0.8241155, 0.8959104, 0.9262668, 0.93870324, 0.94842327, 0.9563216, 0.96363795, 0.96926504, 0.97466314, 0.9792266],
[0.38004196, 0.7446466, 0.8212921, 0.8909783, 0.91889447, 0.9335789, 0.9451242, 0.9533558, 0.96046036, 0.9671829, 0.9724751, 0.9773622]]


ve01_2 = [[0.52784246, 0.76237655, 0.834021, 0.8849478, 0.91063315, 0.92527544, 0.93798864, 0.94879836, 0.9567154, 0.9642462, 0.9696819, 0.9745258],
[0.51332504, 0.74160594, 0.819332, 0.87347496, 0.9200638, 0.93525666, 0.9479576, 0.9581153, 0.9660212, 0.9733563, 0.9771547, 0.9807556],
[0.49579096, 0.7475922, 0.82547784, 0.87523407, 0.90859145, 0.9316826, 0.9469152, 0.9576796, 0.9675351, 0.97483635, 0.98007375, 0.98435897],
[0.37206188, 0.66378653, 0.8095621, 0.8848176, 0.9161458, 0.9330536, 0.9448816, 0.9548171, 0.9632275, 0.9685218, 0.9728968, 0.9769299],
[0.45863795, 0.6926156, 0.8275937, 0.89221275, 0.92686164, 0.94505906, 0.95360637, 0.9616675, 0.9684428, 0.9738399, 0.977533, 0.9808214],
[0.5042682, 0.80711657, 0.8838717, 0.91395813, 0.9391132, 0.9480139, 0.95680004, 0.96446997, 0.97033954, 0.9757872, 0.9801185, 0.9833493],
[0.47099054, 0.783729, 0.84709746, 0.8993104, 0.9219595, 0.9394786, 0.9514926, 0.9599202, 0.96637666, 0.97189486, 0.97671014, 0.98034096],
[0.41451094, 0.66756886, 0.7945168, 0.85643125, 0.90844285, 0.9256665, 0.93918705, 0.94953483, 0.95784503, 0.9642455, 0.9692403, 0.9737343],
[0.42224348, 0.68562615, 0.7885057, 0.84313685, 0.8881847, 0.90464026, 0.92013395, 0.93178886, 0.9419277, 0.95082694, 0.95844895, 0.9646778],
[0.44193077, 0.68430835, 0.79040027, 0.8762918, 0.897719, 0.91749173, 0.93035334, 0.94293004, 0.9518241, 0.9590511, 0.9659875, 0.97098655],
[0.39465022, 0.6628457, 0.7810277, 0.84323514, 0.8887813, 0.90903246, 0.9250306, 0.9383929, 0.94882834, 0.95692617, 0.96423686, 0.9705198],
[0.62519246, 0.76749724, 0.87056506, 0.9062977, 0.9295664, 0.9470771, 0.9594678, 0.96612036, 0.9717669, 0.9762398, 0.97987056, 0.9829564],
[0.5246817, 0.741738, 0.82558423, 0.88690174, 0.9261445, 0.94143003, 0.9534041, 0.9611589, 0.96778774, 0.9731474, 0.9770113, 0.98036444],
[0.36650717, 0.6379146, 0.7709887, 0.8447732, 0.8935538, 0.9167499, 0.9307856, 0.94177794, 0.9515068, 0.95942074, 0.9655921, 0.97057253],
[0.5412689, 0.77391565, 0.84391475, 0.88939244, 0.9131974, 0.93234104, 0.9484125, 0.95893764, 0.9679164, 0.9741654, 0.9779599, 0.98149353],
[0.41932318, 0.76371646, 0.8525595, 0.8934615, 0.93128574, 0.94648576, 0.9565177, 0.9632332, 0.9691737, 0.97489595, 0.9803004, 0.98383135],
[0.49705485, 0.70696914, 0.8463959, 0.8993033, 0.93354774, 0.9461937, 0.9541653, 0.96136695, 0.9676784, 0.9725248, 0.9767748, 0.9800753],
[0.4455079, 0.7465613, 0.8613626, 0.9050078, 0.9367994, 0.9513175, 0.95934814, 0.966782, 0.97218317, 0.97719693, 0.9810643, 0.98436785],
[0.41047025, 0.695783, 0.8070198, 0.8788323, 0.9197857, 0.94309753, 0.9534709, 0.96261793, 0.9688834, 0.9737495, 0.9779167, 0.9815483],
[0.41477075, 0.72274256, 0.80404305, 0.8598383, 0.89954567, 0.9190654, 0.93579984, 0.94614637, 0.9544378, 0.9617355, 0.96745735, 0.97181934],
[0.39251727, 0.71985316, 0.83072513, 0.87673837, 0.9142698, 0.93037385, 0.94364685, 0.95406616, 0.9620963, 0.96806186, 0.9732997, 0.9781897],
[0.5262678, 0.7429509, 0.83740115, 0.88210195, 0.91376156, 0.9327808, 0.9472513, 0.9550667, 0.96224326, 0.9684135, 0.97383446, 0.9780544],
[0.33125547, 0.6313534, 0.76479703, 0.822229, 0.8579803, 0.88760394, 0.9138193, 0.92866606, 0.939297, 0.9477056, 0.9544113, 0.96076256],
[0.5561867, 0.7246433, 0.85849124, 0.9053455, 0.9338208, 0.94929016, 0.95951265, 0.96716815, 0.9723557, 0.9765337, 0.98027754, 0.9837558]]


mean50, err50 = z_score(np.array(ve50))
mean01, err01 = z_score(np.array(ve01))
mean50_2, err50_2 = z_score(np.array(ve50_2))
mean01_2, err01_2 = z_score(np.array(ve01_2))
plt.figure()
plt.errorbar(np.arange(1,13), mean50, yerr=err50, label="batch_size 50")
plt.errorbar(np.arange(1,13), mean01, yerr=err01, label="batch_size 01")
plt.errorbar(np.arange(1,13), mean50_2, yerr=err50_2, label="batch_size 50, initial 500ms")
plt.errorbar(np.arange(1,13), mean01_2, yerr=err01_2, label="batch_size 01, initial 500ms")
ax = plt.gca()
ax.set_title("variance explained by the first 12 PCs")
plt.legend()
plt.show()
'''

seeds = np.random.choice(np.arange(1000, 2000), 30, replace=False)
with open("seeds.txt", 'a') as file:
    file.write(str(seeds))
for seed in seeds:
    with open("submit_job_s{}.s".format(seed), 'a') as file:
        file.write(
'''#!/bin/bash
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --cpus-per-task=8
#SBATCH --time=12:00:00
#SBATCH --mem=8GB
#SBATCH --job-name=job_s{0}
#SBATCH --output=slurm_%j.out

module purge
module load anaconda3/5.3.1
source activate tensorflow

DATADIR=/scratch/ks5687/2019_summer_intern/neural_constraint_on_learning
cd $DATADIR
PYTHONPATH=~/.conda/envs/tensorflow/bin/python

'''.format(seed))
        file.write("$PYTHONPATH -u $DATADIR/pipeline.py seed {}\n".format(seed))
with open("submit_batch.s", 'a') as file:
    for seed in seeds:
        file.write("dos2unix submit_job_s{}.s; sbatch submit_job_s{}.s;\n".format(seed, seed))


'''
speed = [[5, 3, 34],[1, 5, 33],[1, 1, 37],[0, 5, 30],[0, 4, 38],[1, 9, 51],[4, 1, 62],[2, 1, 58],
         [1, 3, 71],[1, 6, 40],[2, 3, 61],[2, 9, 60],[0, 7, 52],[4, 6, 42],[0, 3, 52],[0, 1, 65],
         [1, 7, 53],[1, 2, 50],[5, 2, 39],[5, 1, 32],[2, 6, 42],[0, 2, 64],[4, 3, 53],[2, 8, 58],
         [3, 9, 63],[0, 0, 60],[1, 8, 82],[3, 1, 55],[1, 0, 70],[2, 0, 108],[4, 8, 63],[5, 0, 58],
         [0, 9, 83],[2, 7, 69],[3, 0, 112],[3, 7, 55],[3, 8, 66],[2, 4, 70],[1, 4, 120],[4, 9, 64],
         [2, 2, 137],[4, 0, 80],[4, 5, 101],[4, 4, 72],[4, 7, 72],[2, 5, 113],[3, 2, 117],[3, 4, 127],
         [3, 5, 131],[3, 3, 181],[4, 2, 141],[5, 6, 18],[6, 2, 22],[6, 1, 21],[5, 9, 29],[6, 0, 20],
         [6, 6, 22],[5, 5, 24],[6, 3, 40],[7, 9, 17],[7, 0, 21],[7, 1, 27],[7, 6, 18],[8, 6, 17],
         [5, 8, 50],[7, 8, 11],[6, 8, 43],[8, 1, 20],[8, 3, 46],[8, 9, 24],[5, 7, 126],[8, 7, 54],
         [7, 3, 52],[8, 2, 37],[8, 5, 80],[9, 9, 104],[6, 5, 149],[6, 4, 185],[7, 4, 139],[9, 0, 78],
         [6, 9, 145],[5, 4, 189],[9, 2, 99],[6, 7, 167],[9, 4, 165],[9, 7, 112],[7, 7, 163],[9, 8, 178],
         [9, 5, 203],[8, 4, 178]]
speed_o = [[1, 5, 26],[1, 4, 27],[2, 5, 26],[4, 5, 26],[2, 4, 27],[0, 4, 27],[0, 5, 26],[3, 2, 40],
           [3, 9, 38],[3, 5, 26],[4, 2, 40],[1, 2, 40],[4, 6, 39],[4, 4, 27],[0, 2, 40],[1, 9, 38],
           [1, 1, 34],[1, 6, 39],[2, 6, 39],[2, 1, 34],[3, 4, 27],[3, 8, 48],[1, 8, 48],[0, 6, 39],
           [3, 6, 39],[1, 3, 53],[2, 3, 53],[2, 8, 48],[0, 9, 38],[3, 7, 52],[0, 8, 48],[0, 7, 52],
           [2, 9, 38],[2, 7, 52],[4, 1, 34],[0, 1, 34],[4, 7, 52],[2, 2, 40],[3, 3, 53],[4, 9, 38],
           [3, 1, 34],[4, 3, 53],[1, 7, 52],[2, 0, 75],[1, 0, 75],[4, 8, 48],[0, 0, 75],[4, 0, 75],
           [0, 3, 53],[5, 0, 75],[3, 0, 75],[9, 4, 27],[6, 5, 26],[5, 5, 26],[6, 4, 27],[8, 6, 39],
           [7, 1, 34],[6, 6, 39],[7, 9, 38],[7, 4, 27],[9, 5, 26],[8, 1, 34],[6, 9, 38],[5, 9, 38],
           [9, 2, 40],[6, 8, 48],[8, 8, 48],[7, 2, 40],[6, 1, 34],[9, 1, 34],[7, 8, 48],[10, 2, 40],
           [6, 7, 52],[7, 3, 53],[8, 2, 40],[7, 7, 52],[10, 1, 34],[9, 7, 52],[9, 3, 53],[5, 3, 53],
           [5, 1, 34],[8, 9, 38],[6, 2, 40],[7, 6, 39],[5, 2, 40],[9, 8, 48],[5, 6, 39],[8, 7, 52],
           [8, 4, 27],[5, 7, 52],[8, 5, 26],[6, 3, 53],[10, 0, 75],[5, 4, 27],[6, 0, 75],[8, 3, 53],
           [5, 8, 48],[9, 6, 39],[8, 0, 75],[9, 9, 38],[9, 0, 75],[7, 0, 75],[12, 4, 27],[12, 5, 26],
           [14, 5, 26],[14, 4, 27],[11, 9, 38],[13, 1, 34],[13, 4, 27],[12, 6, 39],[11, 4, 27],[11, 5, 26],
           [12, 9, 38],[10, 5, 26],[13, 8, 48],[14, 9, 38],[13, 2, 40],[14, 6, 39],[13, 9, 38],[12, 1, 34],
           [11, 6, 39],[14, 1, 34],[10, 8, 48],[13, 5, 26],[11, 2, 40],[11, 8, 48],[11, 7, 52],[11, 3, 53],
           [10, 9, 38],[12, 2, 40],[14, 2, 40],[10, 4, 27],[11, 1, 34],[13, 3, 53],[10, 6, 39],[12, 7, 52],
           [14, 0, 75],[14, 3, 53],[12, 8, 48],[10, 3, 53],[12, 0, 75],[12, 3, 53],[13, 0, 75],[13, 6, 39],
           [11, 0, 75],[14, 7, 52],[14, 8, 48],[10, 7, 52],[13, 7, 52]]

speed = np.array(speed)
num_p = 10
speeds_list = [speed[np.argwhere(speed[:,0]==i)[:,0]][:,2] for i in range(num_p)]
error_bar = []
for speeds in speeds_list:
    mean = np.mean(speeds)
    sigma = np.sqrt(np.mean((speeds - mean)**2))
    error_bar.append([mean, sigma])
error_bar = np.array(error_bar).T
plt.figure()
plt.errorbar(np.arange(1,num_p+1), error_bar[0], yerr=error_bar[1])
ax = plt.gca()
ax.set_xlabel("perturbation number")
ax.set_ylabel("learning trials")
plt.show()
'''
